# sing-box TUN installer config
# 说明：
# - 这是 install-singbox-tun.sh 读取的配置文件
# - 以变量形式声明，必须使用双引号包裹字符串

# ==============================
# 必填：VLESS URL
# ==============================
# 从你的服务端或客户端导出完整的 VLESS 链接，脚本会自动解析参数。
# 必须包含：host/port/uuid/flow/sni/fp/pbk/sid
VLESS_URL="vless://UUID@HOST:PORT?encryption=none&flow=xtls-rprx-vision&security=reality&sni=example.com&fp=chrome&pbk=PUBLIC_KEY&sid=SHORT_ID&spx=%2F&type=tcp&headerType=none"

# ==============================
# 可选：sing-box 安装与配置路径
# ==============================
# sing-box 二进制安装路径
BIN_PATH="/usr/local/bin/sing-box"
# 生成的 sing-box 配置文件路径（JSON）
CONF_PATH="/etc/sing-box-tun.json"

# ==============================
# 可选：systemd 行为
# ==============================
# USE_SYSTEMD:
# - "auto": 自动检测是否可用 systemd（默认）
# - "1": 强制使用 systemd
# - "0": 不使用 systemd，改用 helper 脚本管理
USE_SYSTEMD="auto"
# ENABLE_ON_BOOT:
# - "1": 安装后自动 enable 并开机自启
# - "0": 不自动 enable（默认）
ENABLE_ON_BOOT="1"

# ==============================
# 可选：helper 脚本与日志路径（非 systemd 模式生效）
# ==============================
HELPER_PATH="$HOME/sing-box/bin/sb-tun"
LOG_PATH="$HOME/sing-box/sing-box-tun.log"
PID_PATH="$HOME/sing-box/sing-box-tun.pid"

# ==============================
# 可选：网络参数（空=自动检测）
# ==============================
# 是否额外暴露一个端口入站（给 Windows 程序单独设置代理）
# - "0": 关闭（默认）
# - "1": 开启
ENABLE_PROXY_INBOUND="1"
# 入站类型：
# - "mixed": 同时支持 SOCKS5/HTTP（推荐）
# - "socks": 仅 SOCKS5
PROXY_INBOUND_TYPE="mixed"
# 监听地址与端口（WSL 给 Windows 访问时建议 0.0.0.0）
PROXY_LISTEN="0.0.0.0"
PROXY_PORT="10806"

# TUN_IF: TUN 接口名（默认自动选择未被占用的 tunX）
# TUN_ADDR: TUN 地址（默认自动选择 /30 网段）
# GW/DEV: 默认路由网关与网卡
# - WSL 建议显式填写，避免 restart 时误检测为 tun0：
#   GW="172.19.32.1"
#   DEV="eth0"
TUN_IF=""
TUN_ADDR=""
GW=""
DEV=""

# ==============================
# 可选：覆盖行为
# ==============================
# 0 = 发现已有文件时会询问是否覆盖
# 1 = 直接覆盖
OVERWRITE_CONF="0"
OVERWRITE_HELPER="0"

# ==============================
# 直连规则（旁路）
# ==============================
# 这些目标会走 direct，不经过代理。
# DIRECT_DOMAINS: 域名列表
# DIRECT_IPS: 单个 IP，脚本会自动补 /32
# DIRECT_CIDRS: CIDR 网段
DIRECT_DOMAINS=()
DIRECT_IPS=()
# 示例（按需打开）：
# DIRECT_DOMAINS=("example.com" "example.net")
# DIRECT_IPS=("1.2.3.4" "5.6.7.8")
# 默认旁路常见内网/保留地址段（可按需增删）
DIRECT_CIDRS=("10.0.0.0/8" "172.16.0.0/12" "192.168.0.0/16" "100.64.0.0/10" "169.254.0.0/16")
